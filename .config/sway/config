### Variables
set $alt Mod1
set $ctl Control
set $mod Mod4
# Home row direction keys
set $left h
set $down j
set $up k
set $right l
# Preferred apps
set $term termite
set $alt_term alacritty
set $menu 'rofi -show'
set $browser firefox
set $private_browser firefox --private-window

### Output configuration
output * bg $HOME/Pictures/wallpaper.jpg fill
# Laptop
output eDP-1 pos 3000 3000 res 2560x1440 scale 1.5
# Assume any unknown HDMI will be 27"
output HDMI-A-1 pos 2560 1560 res 2560x1440
# single ArtPro 24" 16:10
output "Dell Inc. DELL 2407WFP MW79673616US " pos 3000 1800 res 1920x1200
output "Unknown BenQ GW2765 T9E08517019" pos 3000 1920 res 1920x1080
# CC 2x 24"
output "Dell Inc. DELL U2412M HC55P1CL2C0L" pos 2360 1800 res 1920x1200
output "Dell Inc. DELL U2412M HC55P2592CAL" pos 4280 1800 res 1920x1200
# CC single 27"
output "Dell Inc. DELL U2713H C6F0K48S0E6L" pos 3000 1560 res 2560x1440

## CC single 32"
output "Dell Inc. DELL U3219Q DMJRWP2" pos 2300 1272 res 3840x2160 scale 1.25

# redshift
exec redshift

# titlebar
font pango:Fira Mono, "Twitter Color Emoji" 10
titlebar_border_thickness 0
titlebar_padding 6 2

# notifications
exec mako
bindsym Control+Space exec makoctl dismiss
# bindsym Shift+Control+Space exec makoctl dismiss --all

# screenshots
bindsym Print exec grim -g "$(slurp)" - | wl-copy
bindsym Shift+Print exec grim -g "$(slurp)" $HOME/$(date +'%Y-%m-%d-%H%M%S_screen.png')

### Idle configuration
# This will lock your screen after 300 seconds of inactivity, then turn off
# your displays after another 300 seconds, and turn your screens back on when
# resumed. It will also lock your screen before your computer goes to sleep.
exec swayidle -w \
         timeout 300 'swaylock -f' \
         timeout 600 'swaymsg "output * dpms off"' \
              resume 'swaymsg "output * dpms on"' \
        before-sleep 'swaylock -f'

### Key bindings
#
# Basics:
#
  # start a terminal
  bindsym $mod+Return exec $term
  bindsym $mod+Shift+Return exec $alt_term

  # kill focused window
  bindsym $mod+Shift+q kill
  bindsym Control+q nop nop

  # start your launcher
  bindsym $mod+d exec $menu
  bindsym Mod1+Space exec $menu
  bindsym $mod+c exec --no-startup-id "rofi -show calc -modi calc -no-show-match -no-sort"

  # Drag floating windows by holding down $mod and left mouse button.
  # Resize floating or tiled windows with right mouse button + $mod.
  floating_modifier $mod normal
  focus_follows_mouse no

  # reload the configuration file
  bindsym $mod+Shift+c reload

  # exit sway (logs you out of your Wayland session)
  bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -b 'Yes, exit sway' 'swaymsg exit'

  bindsym $mod+b exec $browser
  bindsym $mod+Shift+b exec $private_browser
  bindsym $ctl+$alt+l exec swaylock

  # Screen brightness controls
    bindsym XF86MonBrightnessUp exec brightnessctl set +5%
    bindsym XF86MonBrightnessDown exec brightnessctl set 5%-
    bindsym $mod+F5 exec brightnessctl set 1%
    bindsym $mod+F6 exec brightnessctl set 100%

  # Pulse Audio controls
    #increase sound volume
    bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume $(pacmd list-sinks | grep '* index' | cut -d':' -f2) +5%
    #decrease sound volume
    bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume $(pacmd list-sinks | grep '* index' | cut -d':' -f2) -5%
    # mute sound
    bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute $(pacmd list-sinks | grep '* index' | cut -d':' -f2) toggle
    # audio track controls (mod + vol keys)
    bindsym $mod+F1 exec playerctl play-pause
    bindsym $mod+F2 exec playerctl previous
    bindsym $mod+F3 exec playerctl next

  input "2:7:SynPS/2_Synaptics_TouchPad" {
    accel_profile adaptive
    middle_emulation disabled
    dwt enabled
  }
  input "1133:45077:M720_Triathlon_Mouse" {
    accel_profile adaptive
  }
#
# Moving around:
#
  # Move your focus around
  bindsym $mod+$left focus left
  bindsym $mod+$down focus down
  bindsym $mod+$up focus up
  bindsym $mod+$right focus right
  bindsym $mod+Left focus left
  bindsym $mod+Down focus down
  bindsym $mod+Up focus up
  bindsym $mod+Right focus right

  # _move_ the focused window with the same, but add Shift
  bindsym $mod+Shift+$left move left
  bindsym $mod+Shift+$down move down
  bindsym $mod+Shift+$up move up
  bindsym $mod+Shift+$right move right
  bindsym $mod+Shift+Left move left
  bindsym $mod+Shift+Down move down
  bindsym $mod+Shift+Up move up
  bindsym $mod+Shift+Right move right
#
# Workspaces:
#
  set $ws1 "1:editor "
  set $ws2 "2:vcs "
  set $ws3 "3:web "
  set $ws4 "4:comms "
  set $ws5 "5:misc "
  set $ws6 "6"
  set $ws7 "7"
  set $ws8 "8"
  set $ws9 "9"
  set $ws10 "10:music "

  #quick back and forth between workspaces
  bindsym $mod+z workspace back_and_forth

  # switch to workspace
  bindsym $mod+1 workspace $ws1
  bindsym $mod+2 workspace $ws2
  bindsym $mod+3 workspace $ws3
  bindsym $mod+4 workspace $ws4
  bindsym $mod+5 workspace $ws5
  bindsym $mod+6 workspace $ws6
  bindsym $mod+7 workspace $ws7
  bindsym $mod+8 workspace $ws8
  bindsym $mod+9 workspace $ws9
  bindsym $mod+0 workspace $ws10

  # move focused container to workspace
  bindsym $mod+Shift+1 move container to workspace $ws1
  bindsym $mod+Shift+2 move container to workspace $ws2
  bindsym $mod+Shift+3 move container to workspace $ws3
  bindsym $mod+Shift+4 move container to workspace $ws4
  bindsym $mod+Shift+5 move container to workspace $ws5
  bindsym $mod+Shift+6 move container to workspace $ws6
  bindsym $mod+Shift+7 move container to workspace $ws7
  bindsym $mod+Shift+8 move container to workspace $ws8
  bindsym $mod+Shift+9 move container to workspace $ws9
  bindsym $mod+Shift+0 move container to workspace $ws10

  # move workspace between screens
  bindsym $mod+Control+Shift+$up move workspace to output up
  bindsym $mod+Control+Shift+$right move workspace to output right
  bindsym $mod+Control+Shift+$down move workspace to output down
  bindsym $mod+Control+Shift+$left move workspace to output left
  bindsym $mod+Control+Shift+Up move workspace to output up
  bindsym $mod+Control+Shift+Right move workspace to output right
  bindsym $mod+Control+Shift+Down move workspace to output down
  bindsym $mod+Control+Shift+Left move workspace to output left
#
# Layout stuff:
#
    bindsym $mod+shift+v splith
    bindsym $mod+v splitv

    # Switch the current container between different layout styles
    bindsym $mod+s layout stacking
    bindsym $mod+w layout tabbed
    bindsym $mod+e layout toggle split

    # Make the current focus fullscreen
    bindsym $mod+f fullscreen

    # Toggle the current focus between tiling and floating mode
    bindsym $mod+Shift+space floating toggle

    # Swap focus between the tiling area and the floating area
    bindsym $mod+space focus mode_toggle

    # move focus to the parent container
    bindsym $mod+a focus parent
#
# Resizing containers:
#
mode "resize" {
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px

    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+r mode "resize"

#
# Status Bar:
#
bar {
    swaybar_command waybar
}

# gtk ignoring ~/.config/gtk-3.0/settings.ini workaround
# see: https://github.com/swaywm/sway/wiki/GTK-3-settings-on-Wayland
set $gnome-schema org.gnome.desktop.interface
exec_always {
    gsettings set $gnome-schema gtk-theme 'Breeze-Dark'
    gsettings set $gnome-schema icon-theme 'breeze-dark'
    gsettings set $gnome-schema cursor-theme 'Adwaita'
}

